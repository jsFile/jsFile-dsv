!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b(require("JsFile")):"function"==typeof define&&define.amd?define(["JsFile"],b):"object"==typeof exports?exports.JsFileDsv=b(require("JsFile")):a.JsFileDsv=b(a.JsFile)}(this,function(a){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;h=j=i=void 0,d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},i=c(1),j=c(2),k=d(j),l={extension:["csv"],mime:["text/csv"]},m={extension:["tsv","tab"],mime:["text/tab-separated-values"]},n={extension:[],mime:[]};[l,m].forEach(function(a){var b=a.extension,c=a.mime;n.extension.push.apply(n.extension,b),n.mime.push.apply(n.mime,c)});var o=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments),this.createDocument=k["default"],this.files=n}return f(b,a),g(b,[{key:"isCsv",value:function(){return Boolean(this.file&&i.Engine.validateFile(this.file,l))}},{key:"isTsv",value:function(){return Boolean(this.file&&i.Engine.validateFile(this.file,m))}}],[{key:"test",value:function(a){return Boolean(a&&i.Engine.validateFile(a,n))}},{key:"mimeTypes",value:n.mime.slice(0),enumerable:!0}]),b}(i.Engine);i.defineEngine(o),b["default"]=o,a.exports=b["default"]},function(b,c){b.exports=a},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a=a.substr(0,1048576);var b=a.split("\r"),c=b.length;if(1===c)return"\n";for(var d=0,e=0;c>e;e++)"\n"===b[e][0]&&d++;return d>=c/2?"\r\n":"\r"}Object.defineProperty(b,"__esModule",{value:!0});var f=c(1),g=d(f),h=g["default"].Document,i='"';b["default"]=function(a){return new Promise(function(b){var c=this.isTsv()?"tab":"comma",d=e(a),f=a.length,g=h.elementPrototype,j=h.elementPrototype,k=",",l=!1,m=0,n=a[m],o=0,p=void 0,q=h.elementPrototype,r=h.elementPrototype,s=h.elementPrototype;for("tab"===c&&(k="	"),p=k.length,g.properties.tagName="TABLE",j.properties.tagName="TBODY",s.properties.tagName="TR",r.properties.tagName="TD";f>m;)"#"!==n||r.properties.textContent?n===d?(l||(s.children.push(r),j.children.push(s),s=h.elementPrototype,s.properties.tagName="TR"),l=!1,o=0):l||(n===i?o++:o%2===0&&(n===k||n===k[0]&&a.substr(m,p)===k)?(s.children.push(r),r=h.elementPrototype,r.properties.tagName="TD",m+=p-1):r.properties.textContent+=n):l=!0,m++,n=a[m];g.children.push(j),q.children.push(g),b(new h({meta:{name:this.fileName},content:[q]}))}.bind(this))},a.exports=b["default"]}])});